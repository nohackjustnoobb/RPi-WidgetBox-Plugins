function c(e,t=!1){return window.__TAURI_INTERNALS__.transformCallback(e,t)}async function a(e,t={},n){return window.__TAURI_INTERNALS__.invoke(e,t,n)}var i;(function(e){e.WINDOW_RESIZED="tauri://resize",e.WINDOW_MOVED="tauri://move",e.WINDOW_CLOSE_REQUESTED="tauri://close-requested",e.WINDOW_DESTROYED="tauri://destroyed",e.WINDOW_FOCUS="tauri://focus",e.WINDOW_BLUR="tauri://blur",e.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",e.WINDOW_THEME_CHANGED="tauri://theme-changed",e.WINDOW_CREATED="tauri://window-created",e.WEBVIEW_CREATED="tauri://webview-created",e.DRAG_ENTER="tauri://drag-enter",e.DRAG_OVER="tauri://drag-over",e.DRAG_DROP="tauri://drag-drop",e.DRAG_LEAVE="tauri://drag-leave"})(i||(i={}));async function d(e,t){await a("plugin:event|unlisten",{event:e,eventId:t})}async function u(e,t,n){var r;const s=(r=void 0)!==null&&r!==void 0?r:{kind:"Any"};return a("plugin:event|listen",{event:e,target:s,handler:c(t)}).then(_=>async()=>d(e,_))}function o(){return"__TAURI_INTERNALS__"in window}class l{sendState(){this.send&&this.send({type:"updateState",data:this.cache})}async start(t,n){o()&&(this.send=t,n(r=>{switch(r.type){case"getState":this.sendState();break;case"playMedia":a("play_media");break;case"pauseMedia":a("pause_media");break;case"nextTrack":a("next_track");break;case"prevTrack":a("prev_track");break}}),this.unlisten=await u("media-activity",r=>{this.cache=r.payload,this.sendState()}),a("register_media_activity_event"))}stop(){this.unlisten&&this.unlisten(),a("unregister_media_activity_event")}}const p=new l;export{p as default};
