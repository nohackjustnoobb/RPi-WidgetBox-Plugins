function u(t,e=!1){return window.__TAURI_INTERNALS__.transformCallback(t,e)}async function i(t,e={},r){return window.__TAURI_INTERNALS__.invoke(t,e,r)}var a;(function(t){t.WINDOW_RESIZED="tauri://resize",t.WINDOW_MOVED="tauri://move",t.WINDOW_CLOSE_REQUESTED="tauri://close-requested",t.WINDOW_DESTROYED="tauri://destroyed",t.WINDOW_FOCUS="tauri://focus",t.WINDOW_BLUR="tauri://blur",t.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",t.WINDOW_THEME_CHANGED="tauri://theme-changed",t.WINDOW_CREATED="tauri://window-created",t.WEBVIEW_CREATED="tauri://webview-created",t.DRAG_ENTER="tauri://drag-enter",t.DRAG_OVER="tauri://drag-over",t.DRAG_DROP="tauri://drag-drop",t.DRAG_LEAVE="tauri://drag-leave"})(a||(a={}));async function o(t,e){await i("plugin:event|unlisten",{event:t,eventId:e})}async function d(t,e,r){var n;const s=(n=void 0)!==null&&n!==void 0?n:{kind:"Any"};return i("plugin:event|listen",{event:t,target:s,handler:u(e)}).then(_=>async()=>o(t,_))}function c(){return"__TAURI_INTERNALS__"in window}class l{sendState(){this.send&&this.send({type:"updateState",data:this.cache})}async start(e,r){c()&&(this.send=e,r(n=>{n.type==="getState"&&this.sendState()}),this.unlisten=await d("media-activity",n=>{this.cache=n.payload,this.sendState()}),i("register_media_activity_event"))}stop(){this.unlisten&&this.unlisten(),i("unregister_media_activity_event")}}const D=new l;export{D as default};
